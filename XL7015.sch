EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 3 3
Title "MPPT V3"
Date "2022-09-28"
Rev "3.0"
Comp "g2m"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L MPPT_1KW_ESP32-rescue:XL7015 U5
U 1 1 631BB978
P 3700 1650
F 0 "U5" H 3950 1915 50  0000 C CNN
F 1 "XL7015" H 3950 1824 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:TO-252-5_TabPin3" H 3900 1800 50  0001 C CNN
F 3 "" H 3900 1800 50  0001 C CNN
	1    3700 1650
	1    0    0    -1  
$EndComp
$Comp
L Device:L_Small L3
U 1 1 631BD23D
P 5525 1650
F 0 "L3" V 5710 1650 50  0000 C CNN
F 1 "100uH/1A" V 5619 1650 50  0000 C CNN
F 2 "Inductor_SMD:L_Taiyo-Yuden_NR-60xx_HandSoldering" H 5525 1650 50  0001 C CNN
F 3 "~" H 5525 1650 50  0001 C CNN
	1    5525 1650
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4300 1650 4650 1650
$Comp
L Device:D_Schottky_Small D9
U 1 1 631BEF7C
P 4650 1875
F 0 "D9" V 4604 1945 50  0000 L CNN
F 1 "SS310" V 4695 1945 50  0000 L CNN
F 2 "Diode_SMD:D_2010_5025Metric_Pad1.52x2.65mm_HandSolder" V 4650 1875 50  0001 C CNN
F 3 "~" V 4650 1875 50  0001 C CNN
	1    4650 1875
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small_US R21
U 1 1 631BF8D1
P 5875 1850
F 0 "R21" H 5943 1896 50  0000 L CNN
F 1 "18k" H 5943 1805 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.20x1.40mm_HandSolder" H 5875 1850 50  0001 C CNN
F 3 "~" H 5875 1850 50  0001 C CNN
	1    5875 1850
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small_US R22
U 1 1 631BFF87
P 5875 2300
F 0 "R22" H 5943 2346 50  0000 L CNN
F 1 "2000" H 5943 2255 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.20x1.40mm_HandSolder" H 5875 2300 50  0001 C CNN
F 3 "~" H 5875 2300 50  0001 C CNN
	1    5875 2300
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C18
U 1 1 631C038B
P 6350 1850
F 0 "C18" H 6442 1896 50  0000 L CNN
F 1 "33nF" H 6442 1805 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric_Pad1.18x1.45mm_HandSolder" H 6350 1850 50  0001 C CNN
F 3 "~" H 6350 1850 50  0001 C CNN
	1    6350 1850
	1    0    0    -1  
$EndComp
$Comp
L Device:CP1_Small C21
U 1 1 631C0E94
P 6850 2125
F 0 "C21" H 6941 2171 50  0000 L CNN
F 1 "100uF/35V" H 6941 2080 50  0000 L CNN
F 2 "Capacitor_THT:CP_Radial_D6.3mm_P2.50mm" H 6850 2125 50  0001 C CNN
F 3 "~" H 6850 2125 50  0001 C CNN
	1    6850 2125
	1    0    0    -1  
$EndComp
$Comp
L Device:CP1_Small C15
U 1 1 631C1A44
P 3125 1975
F 0 "C15" H 3216 2021 50  0000 L CNN
F 1 "33uF/100V" H 3216 1930 50  0000 L CNN
F 2 "Capacitor_THT:CP_Radial_D8.0mm_P2.50mm" H 3125 1975 50  0001 C CNN
F 3 "~" H 3125 1975 50  0001 C CNN
	1    3125 1975
	1    0    0    -1  
$EndComp
Wire Wire Line
	3125 1875 3125 1650
Wire Wire Line
	3125 1650 3600 1650
Wire Wire Line
	4100 2300 4100 2650
Wire Wire Line
	4100 2650 3800 2650
Wire Wire Line
	3125 2650 3125 2075
Wire Wire Line
	6850 2225 6850 2650
Connection ~ 4100 2650
Wire Wire Line
	4650 1975 4650 2650
Connection ~ 4650 2650
Wire Wire Line
	4650 2650 4100 2650
Wire Wire Line
	4650 1775 4650 1650
Connection ~ 4650 1650
Wire Wire Line
	4650 1650 5425 1650
Wire Wire Line
	5625 1650 5875 1650
Wire Wire Line
	6850 1650 6850 1825
Wire Wire Line
	6350 1750 6350 1650
Connection ~ 6350 1650
Wire Wire Line
	6350 1650 6850 1650
Wire Wire Line
	4300 1950 4375 1950
Wire Wire Line
	4375 1950 4375 2100
Wire Wire Line
	4375 2100 5875 2100
Wire Wire Line
	6350 2100 6350 1950
Wire Wire Line
	5875 1950 5875 2100
Connection ~ 5875 2100
Wire Wire Line
	5875 2100 6350 2100
Wire Wire Line
	5875 2200 5875 2100
Wire Wire Line
	5875 1750 5875 1650
Connection ~ 5875 1650
Wire Wire Line
	5875 1650 6350 1650
$Comp
L MPPT_1KW_ESP32-rescue:XL7015 U4
U 1 1 631C58FF
P 3675 3850
F 0 "U4" H 3925 4115 50  0000 C CNN
F 1 "XL7015" H 3925 4024 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:TO-252-5_TabPin3" H 3875 4000 50  0001 C CNN
F 3 "" H 3875 4000 50  0001 C CNN
	1    3675 3850
	1    0    0    -1  
$EndComp
$Comp
L Device:L_Small L2
U 1 1 631C59C5
P 5500 3850
F 0 "L2" V 5685 3850 50  0000 C CNN
F 1 "100uH/1A" V 5594 3850 50  0000 C CNN
F 2 "Inductor_SMD:L_Taiyo-Yuden_NR-60xx_HandSoldering" H 5500 3850 50  0001 C CNN
F 3 "~" H 5500 3850 50  0001 C CNN
	1    5500 3850
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4275 3850 4625 3850
$Comp
L Device:D_Schottky_Small D7
U 1 1 631C59D0
P 4625 4075
F 0 "D7" V 4579 4145 50  0000 L CNN
F 1 "SS310" V 4670 4145 50  0000 L CNN
F 2 "Diode_SMD:D_2010_5025Metric_Pad1.52x2.65mm_HandSolder" V 4625 4075 50  0001 C CNN
F 3 "~" V 4625 4075 50  0001 C CNN
	1    4625 4075
	0    1    1    0   
$EndComp
$Comp
L Device:R_Small_US R18
U 1 1 631C59DA
P 5850 4050
F 0 "R18" H 5918 4096 50  0000 L CNN
F 1 "18k" H 5918 4005 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.20x1.40mm_HandSolder" H 5850 4050 50  0001 C CNN
F 3 "~" H 5850 4050 50  0001 C CNN
	1    5850 4050
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small_US R19
U 1 1 631C59E4
P 5850 4500
F 0 "R19" H 5918 4546 50  0000 L CNN
F 1 "3300" H 5918 4455 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.20x1.40mm_HandSolder" H 5850 4500 50  0001 C CNN
F 3 "~" H 5850 4500 50  0001 C CNN
	1    5850 4500
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C16
U 1 1 631C59EE
P 6325 4050
F 0 "C16" H 6417 4096 50  0000 L CNN
F 1 "33nF" H 6417 4005 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric_Pad1.18x1.45mm_HandSolder" H 6325 4050 50  0001 C CNN
F 3 "~" H 6325 4050 50  0001 C CNN
	1    6325 4050
	1    0    0    -1  
$EndComp
$Comp
L Device:CP1_Small C19
U 1 1 631C59F8
P 6825 4325
F 0 "C19" H 6916 4371 50  0000 L CNN
F 1 "100uF/35V" H 6916 4280 50  0000 L CNN
F 2 "Capacitor_THT:CP_Radial_D6.3mm_P2.50mm" H 6825 4325 50  0001 C CNN
F 3 "~" H 6825 4325 50  0001 C CNN
	1    6825 4325
	1    0    0    -1  
$EndComp
$Comp
L Device:CP1_Small C14
U 1 1 631C5A02
P 3100 4175
F 0 "C14" H 3191 4221 50  0000 L CNN
F 1 "33uF/100V" H 3191 4130 50  0000 L CNN
F 2 "Capacitor_THT:CP_Radial_D8.0mm_P2.50mm" H 3100 4175 50  0001 C CNN
F 3 "~" H 3100 4175 50  0001 C CNN
	1    3100 4175
	1    0    0    -1  
$EndComp
Wire Wire Line
	3100 4075 3100 3850
Wire Wire Line
	3100 3850 3575 3850
Wire Wire Line
	4075 4500 4075 4850
Wire Wire Line
	3100 4850 3100 4275
Wire Wire Line
	6825 4425 6825 4850
Wire Wire Line
	6825 4850 5850 4850
Connection ~ 4075 4850
Wire Wire Line
	4625 4175 4625 4850
Connection ~ 4625 4850
Wire Wire Line
	4625 4850 4075 4850
Wire Wire Line
	4625 3975 4625 3850
Connection ~ 4625 3850
Wire Wire Line
	4625 3850 5400 3850
Wire Wire Line
	5600 3850 5850 3850
Wire Wire Line
	6825 3850 6825 4025
Wire Wire Line
	6325 3950 6325 3850
Connection ~ 6325 3850
Wire Wire Line
	6325 3850 6825 3850
Wire Wire Line
	4275 4150 4350 4150
Wire Wire Line
	4350 4150 4350 4300
Wire Wire Line
	4350 4300 5500 4300
Wire Wire Line
	6325 4300 6325 4150
Wire Wire Line
	5850 4150 5850 4300
Connection ~ 5850 4300
Wire Wire Line
	5850 4300 6325 4300
Wire Wire Line
	5850 4400 5850 4300
Wire Wire Line
	5850 4600 5850 4850
Connection ~ 5850 4850
Wire Wire Line
	5850 4850 5500 4850
Wire Wire Line
	5850 3950 5850 3850
Connection ~ 5850 3850
Wire Wire Line
	5850 3850 6325 3850
$Comp
L power:GND #PWR014
U 1 1 631D2F7F
P 3600 2850
F 0 "#PWR014" H 3600 2600 50  0001 C CNN
F 1 "GND" H 3605 2677 50  0000 C CNN
F 2 "" H 3600 2850 50  0001 C CNN
F 3 "" H 3600 2850 50  0001 C CNN
	1    3600 2850
	1    0    0    -1  
$EndComp
Wire Wire Line
	3600 2850 3600 2650
Connection ~ 3600 2650
Wire Wire Line
	3600 2650 3125 2650
Wire Wire Line
	3100 4850 3550 4850
$Comp
L power:GND #PWR013
U 1 1 631D2D0F
P 3550 5075
F 0 "#PWR013" H 3550 4825 50  0001 C CNN
F 1 "GND" H 3555 4902 50  0000 C CNN
F 2 "" H 3550 5075 50  0001 C CNN
F 3 "" H 3550 5075 50  0001 C CNN
	1    3550 5075
	1    0    0    -1  
$EndComp
Wire Wire Line
	3550 5075 3550 4850
Connection ~ 3550 4850
Wire Wire Line
	3550 4850 3775 4850
Wire Wire Line
	3125 1450 3125 1650
Connection ~ 3125 1650
Wire Wire Line
	3100 3700 3100 3850
Connection ~ 3100 3850
$Comp
L power:+12V #PWR015
U 1 1 631EDC50
P 7075 3850
F 0 "#PWR015" H 7075 3700 50  0001 C CNN
F 1 "+12V" V 7090 3978 50  0000 L CNN
F 2 "" H 7075 3850 50  0001 C CNN
F 3 "" H 7075 3850 50  0001 C CNN
	1    7075 3850
	0    1    1    0   
$EndComp
Wire Wire Line
	6825 3850 7075 3850
Connection ~ 6825 3850
$Comp
L power:VCC #PWR016
U 1 1 631F0D9E
P 7175 1650
F 0 "#PWR016" H 7175 1500 50  0001 C CNN
F 1 "VCC" V 7190 1778 50  0000 L CNN
F 2 "" H 7175 1650 50  0001 C CNN
F 3 "" H 7175 1650 50  0001 C CNN
	1    7175 1650
	0    1    1    0   
$EndComp
Wire Wire Line
	7175 1650 6850 1650
Connection ~ 6850 1650
$Comp
L power:+VDC #PWR012
U 1 1 631F3E58
P 3125 1450
F 0 "#PWR012" H 3125 1350 50  0001 C CNN
F 1 "+VDC" H 3125 1725 50  0000 C CNN
F 2 "" H 3125 1450 50  0001 C CNN
F 3 "" H 3125 1450 50  0001 C CNN
	1    3125 1450
	1    0    0    -1  
$EndComp
Wire Wire Line
	3775 4500 3775 4850
Connection ~ 3775 4850
Wire Wire Line
	3775 4850 4075 4850
Wire Wire Line
	3800 2300 3800 2650
Connection ~ 3800 2650
Wire Wire Line
	3800 2650 3600 2650
$Comp
L power:+VDC #PWR0102
U 1 1 63249EFE
P 3100 3700
F 0 "#PWR0102" H 3100 3600 50  0001 C CNN
F 1 "+VDC" H 3100 3975 50  0000 C CNN
F 2 "" H 3100 3700 50  0001 C CNN
F 3 "" H 3100 3700 50  0001 C CNN
	1    3100 3700
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C23
U 1 1 632813C5
P 2725 1975
F 0 "C23" H 2817 2021 50  0000 L CNN
F 1 "100nF" H 2817 1930 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric_Pad1.18x1.45mm_HandSolder" H 2725 1975 50  0001 C CNN
F 3 "~" H 2725 1975 50  0001 C CNN
	1    2725 1975
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C25
U 1 1 6328216C
P 7500 2150
F 0 "C25" H 7592 2196 50  0000 L CNN
F 1 "1uF" H 7592 2105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric_Pad1.18x1.45mm_HandSolder" H 7500 2150 50  0001 C CNN
F 3 "~" H 7500 2150 50  0001 C CNN
	1    7500 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	7500 2650 6850 2650
Connection ~ 6850 2650
Wire Wire Line
	7500 2250 7500 2650
Wire Wire Line
	2725 2075 2725 2650
Wire Wire Line
	2725 2650 3125 2650
Connection ~ 3125 2650
Wire Wire Line
	7500 2050 7500 1825
Wire Wire Line
	7500 1825 6850 1825
Connection ~ 6850 1825
Wire Wire Line
	6850 1825 6850 2025
$Comp
L Device:C_Small C24
U 1 1 6328A8BF
P 7450 4325
F 0 "C24" H 7542 4371 50  0000 L CNN
F 1 "1uF" H 7542 4280 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric_Pad1.18x1.45mm_HandSolder" H 7450 4325 50  0001 C CNN
F 3 "~" H 7450 4325 50  0001 C CNN
	1    7450 4325
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C22
U 1 1 6328B225
P 2700 4175
F 0 "C22" H 2792 4221 50  0000 L CNN
F 1 "100nF" H 2792 4130 50  0000 L CNN
F 2 "Capacitor_SMD:C_0805_2012Metric_Pad1.18x1.45mm_HandSolder" H 2700 4175 50  0001 C CNN
F 3 "~" H 2700 4175 50  0001 C CNN
	1    2700 4175
	1    0    0    -1  
$EndComp
Wire Wire Line
	7450 4225 7450 4025
Wire Wire Line
	7450 4025 6825 4025
Connection ~ 6825 4025
Wire Wire Line
	6825 4025 6825 4225
Wire Wire Line
	7450 4425 7450 4850
Wire Wire Line
	7450 4850 6825 4850
Connection ~ 6825 4850
Wire Wire Line
	2700 4275 2700 4850
Wire Wire Line
	2700 4850 3100 4850
Connection ~ 3100 4850
Wire Wire Line
	2700 4075 2700 3850
Wire Wire Line
	2700 3850 3100 3850
Wire Wire Line
	2725 1875 2725 1650
Wire Wire Line
	2725 1650 3125 1650
$Comp
L MPPT_1KW_ESP32_ggm-rescue:XL7015_Module-ESP32-DEVKITC-MPPT_1KW_ESP32_ggm-rescue U9
U 1 1 632D8024
P 9250 1675
F 0 "U9" H 9400 1790 50  0000 C CNN
F 1 "XL7015_Module" H 9400 1699 50  0000 C CNN
F 2 "ESP32:Module_XL7015" H 9250 1675 50  0001 C CNN
F 3 "" H 9250 1675 50  0001 C CNN
	1    9250 1675
	1    0    0    -1  
$EndComp
$Comp
L MPPT_1KW_ESP32_ggm-rescue:XL7015_Module-ESP32-DEVKITC-MPPT_1KW_ESP32_ggm-rescue U6
U 1 1 632D8BBE
P 9125 3825
F 0 "U6" H 9275 3940 50  0000 C CNN
F 1 "XL7015_Module" H 9275 3849 50  0000 C CNN
F 2 "ESP32:Module_XL7015" H 9125 3825 50  0001 C CNN
F 3 "" H 9125 3825 50  0001 C CNN
	1    9125 3825
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR018
U 1 1 632D96BB
P 9400 2400
F 0 "#PWR018" H 9400 2150 50  0001 C CNN
F 1 "GND" H 9405 2227 50  0000 C CNN
F 2 "" H 9400 2400 50  0001 C CNN
F 3 "" H 9400 2400 50  0001 C CNN
	1    9400 2400
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR017
U 1 1 632D9E2C
P 9325 4550
F 0 "#PWR017" H 9325 4300 50  0001 C CNN
F 1 "GND" H 9330 4377 50  0000 C CNN
F 2 "" H 9325 4550 50  0001 C CNN
F 3 "" H 9325 4550 50  0001 C CNN
	1    9325 4550
	1    0    0    -1  
$EndComp
Wire Wire Line
	8900 2225 9400 2225
Wire Wire Line
	9400 2225 9400 2400
Wire Wire Line
	9900 1975 9900 2225
Wire Wire Line
	9900 2225 9400 2225
Connection ~ 9400 2225
$Comp
L power:VCC #PWR020
U 1 1 632DED66
P 10075 1825
F 0 "#PWR020" H 10075 1675 50  0001 C CNN
F 1 "VCC" V 10090 1953 50  0000 L CNN
F 2 "" H 10075 1825 50  0001 C CNN
F 3 "" H 10075 1825 50  0001 C CNN
	1    10075 1825
	0    1    1    0   
$EndComp
Wire Wire Line
	10075 1825 9900 1825
Wire Wire Line
	8775 4125 8700 4125
Wire Wire Line
	8700 4125 8700 4400
Wire Wire Line
	8700 4400 9325 4400
Wire Wire Line
	9325 4400 9325 4550
Wire Wire Line
	9775 4125 9950 4125
Wire Wire Line
	9950 4125 9950 4400
Wire Wire Line
	9950 4400 9325 4400
Connection ~ 9325 4400
$Comp
L power:+12V #PWR019
U 1 1 632E6C14
P 10000 3975
F 0 "#PWR019" H 10000 3825 50  0001 C CNN
F 1 "+12V" V 10015 4103 50  0000 L CNN
F 2 "" H 10000 3975 50  0001 C CNN
F 3 "" H 10000 3975 50  0001 C CNN
	1    10000 3975
	0    1    1    0   
$EndComp
Wire Wire Line
	9775 3975 10000 3975
$Comp
L power:+VDC #PWR011
U 1 1 632E9FB3
P 8250 3175
F 0 "#PWR011" H 8250 3075 50  0001 C CNN
F 1 "+VDC" H 8250 3450 50  0000 C CNN
F 2 "" H 8250 3175 50  0001 C CNN
F 3 "" H 8250 3175 50  0001 C CNN
	1    8250 3175
	1    0    0    -1  
$EndComp
Wire Wire Line
	8775 3975 8700 3975
Wire Wire Line
	8700 3975 8700 3300
Wire Wire Line
	8700 3300 8250 3300
Wire Wire Line
	8250 3300 8250 3175
Wire Wire Line
	8900 1825 8700 1825
Wire Wire Line
	8700 1825 8700 3300
Connection ~ 8700 3300
Wire Wire Line
	8900 1975 8900 2225
$Comp
L Device:R_Small_US R24
U 1 1 6333EAF1
P 5500 4500
F 0 "R24" H 5568 4546 50  0000 L CNN
F 1 "5600" H 5568 4455 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.20x1.40mm_HandSolder" H 5500 4500 50  0001 C CNN
F 3 "~" H 5500 4500 50  0001 C CNN
	1    5500 4500
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 4400 5500 4300
Connection ~ 5500 4300
Wire Wire Line
	5500 4300 5850 4300
Wire Wire Line
	5500 4600 5500 4850
Connection ~ 5500 4850
Wire Wire Line
	5500 4850 4625 4850
$Comp
L Device:R_Small_US R23
U 1 1 63345513
P 5425 2450
F 0 "R23" H 5493 2496 50  0000 L CNN
F 1 "3300" H 5493 2405 50  0000 L CNN
F 2 "Resistor_SMD:R_0805_2012Metric_Pad1.20x1.40mm_HandSolder" H 5425 2450 50  0001 C CNN
F 3 "~" H 5425 2450 50  0001 C CNN
	1    5425 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	4650 2650 5425 2650
Wire Wire Line
	5875 2400 5875 2450
Wire Wire Line
	5875 2450 5725 2450
Wire Wire Line
	5725 2450 5725 2250
Wire Wire Line
	5725 2250 5425 2250
Wire Wire Line
	5425 2250 5425 2350
Wire Wire Line
	5425 2550 5425 2650
Connection ~ 5425 2650
Wire Wire Line
	5425 2650 6850 2650
Text Notes 5300 1350 0    50   ~ 0
VCC    R21    R22    R23     D5              D6\n5.5v     18k    2k     3.3k    installed        not installed\n3.8v     18k    1.6k   7.5k    not installed    installed
$EndSCHEMATC
